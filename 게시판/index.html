<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>심플 게시판</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel (JSX 변환용) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 스타일 커스텀 -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        
        .animate-fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- 아이콘 컴포넌트 (Lucide 아이콘 SVG 직접 구현) ---
        const Icon = ({ children, size = 24, className = "" }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
            >
                {children}
            </svg>
        );

        const Plus = (props) => <Icon {...props}><path d="M5 12h14"/><path d="M12 5v14"/></Icon>;
        const Trash2 = (props) => <Icon {...props}><path d="M3 6h18"/><path d="M19 6v14c0 1-2 2-2 2H7c0 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></Icon>;
        const ArrowLeft = (props) => <Icon {...props}><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></Icon>;
        const User = (props) => <Icon {...props}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></Icon>;
        const Calendar = (props) => <Icon {...props}><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></Icon>;
        const MessageSquare = (props) => <Icon {...props}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></Icon>;
        const Search = (props) => <Icon {...props}><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></Icon>;
        const PenLine = (props) => <Icon {...props}><path d="M12 20h9"/><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"/></Icon>;

        // --- 메인 앱 컴포넌트 ---
        
        // 초기 샘플 데이터
        const initialPosts = [
            {
                id: 1,
                title: '환영합니다! 게시판 이용 수칙',
                author: '관리자',
                date: '2023-10-25',
                content: '안녕하세요. 이 게시판은 자유롭게 의견을 나누는 공간입니다.\n\n1. 서로 존중해주세요.\n2. 비방이나 욕설은 금지됩니다.\n3. 유익한 정보를 공유합시다.',
                views: 125,
                likes: 45
            },
            {
                id: 2,
                title: 'React로 게시판 만들기 정말 쉽네요',
                author: '코딩초보',
                date: '2023-10-26',
                content: '컴포넌트 단위로 쪼개서 만드니까 유지보수도 쉽고 재밌습니다. 다들 화이팅!',
                views: 89,
                likes: 12
            },
            {
                id: 3,
                title: '오늘 점심 메뉴 추천받습니다',
                author: '배고픈사람',
                date: '2023-10-27',
                content: '한식, 중식, 일식 중에 고민인데 다들 뭐 드시나요? 추천 부탁드려요.',
                views: 56,
                likes: 3
            }
        ];

        function App() {
            const [posts, setPosts] = useState(initialPosts);
            const [view, setView] = useState('list'); // list, detail, write
            const [selectedPost, setSelectedPost] = useState(null);
            const [searchTerm, setSearchTerm] = useState('');

            // 새 글 작성을 위한 상태
            const [newTitle, setNewTitle] = useState('');
            const [newAuthor, setNewAuthor] = useState('');
            const [newContent, setNewContent] = useState('');

            // 글 저장 핸들러
            const handleSavePost = () => {
                if (!newTitle || !newAuthor || !newContent) {
                    alert('모든 항목을 입력해주세요.');
                    return;
                }

                const newPost = {
                    id: posts.length + 1, // 실제 앱에서는 UUID 등을 사용 권장
                    title: newTitle,
                    author: newAuthor,
                    content: newContent,
                    date: new Date().toISOString().split('T')[0],
                    views: 0,
                    likes: 0
                };

                setPosts([newPost, ...posts]);
                setView('list');
                setNewTitle('');
                setNewAuthor('');
                setNewContent('');
            };

            // 글 삭제 핸들러
            const handleDeletePost = (id) => {
                if (window.confirm('정말 삭제하시겠습니까?')) {
                    setPosts(posts.filter(post => post.id !== id));
                    setView('list');
                }
            };

            // 상세 보기 핸들러
            const handleViewPost = (post) => {
                // 조회수 증가 시뮬레이션
                const updatedPosts = posts.map(p => 
                    p.id === post.id ? { ...p, views: p.views + 1 } : p
                );
                setPosts(updatedPosts);
                setSelectedPost(post);
                setView('detail');
            };

            // 검색 필터링
            const filteredPosts = posts.filter(post => 
                post.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                post.author.toLowerCase().includes(searchTerm.toLowerCase())
            );

            return (
                <div className="min-h-screen bg-gray-50 text-gray-800 font-sans">
                {/* 헤더 */}
                <header className="bg-white border-b border-gray-200 sticky top-0 z-10">
                    <div className="max-w-4xl mx-auto px-4 h-16 flex items-center justify-between">
                    <div 
                        className="flex items-center gap-2 cursor-pointer" 
                        onClick={() => setView('list')}
                    >
                        <div className="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold">
                        B
                        </div>
                        <h1 className="text-xl font-bold text-gray-900">심플 게시판</h1>
                    </div>
                    <button 
                        onClick={() => setView('write')}
                        className="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2"
                    >
                        <Plus size={18} />
                        글쓰기
                    </button>
                    </div>
                </header>

                <main className="max-w-4xl mx-auto px-4 py-8">
                    
                    {/* 목록 뷰 */}
                    {view === 'list' && (
                    <div className="space-y-6 animate-fade-in">
                        {/* 검색 및 필터 영역 */}
                        <div className="flex flex-col sm:flex-row gap-4 justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                        <div className="text-gray-500 text-sm font-medium">
                            총 <span className="text-blue-600 font-bold">{filteredPosts.length}</span>개의 글
                        </div>
                        <div className="relative w-full sm:w-64">
                            <span className="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">
                                <Search size={18} />
                            </span>
                            <input 
                            type="text" 
                            placeholder="제목 또는 작성자 검색"
                            className="w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"
                            value={searchTerm}
                            onChange={(e) => setSearchTerm(e.target.value)}
                            />
                        </div>
                        </div>

                        {/* 게시글 리스트 */}
                        <div className="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                        {filteredPosts.length > 0 ? (
                            <div className="divide-y divide-gray-100">
                            {filteredPosts.map((post) => (
                                <div 
                                key={post.id}
                                onClick={() => handleViewPost(post)}
                                className="p-5 hover:bg-gray-50 transition-colors cursor-pointer group"
                                >
                                <div className="flex justify-between items-start mb-2">
                                    <h3 className="text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-1">
                                    {post.title}
                                    </h3>
                                    <span className="text-xs text-gray-400 whitespace-nowrap ml-4">{post.date}</span>
                                </div>
                                <p className="text-gray-500 text-sm line-clamp-2 mb-3 h-10">
                                    {post.content}
                                </p>
                                <div className="flex items-center gap-4 text-xs text-gray-400">
                                    <div className="flex items-center gap-1">
                                    <User size={14} />
                                    {post.author}
                                    </div>
                                    <div className="flex items-center gap-1">
                                    <MessageSquare size={14} />
                                    조회 {post.views}
                                    </div>
                                    <div className="flex items-center gap-1 text-red-400">
                                    ♥ {post.likes}
                                    </div>
                                </div>
                                </div>
                            ))}
                            </div>
                        ) : (
                            <div className="p-12 text-center text-gray-500">
                            검색 결과가 없습니다.
                            </div>
                        )}
                        </div>
                    </div>
                    )}

                    {/* 상세 보기 뷰 */}
                    {view === 'detail' && selectedPost && (
                    <div className="animate-fade-in">
                        <button 
                        onClick={() => setView('list')}
                        className="mb-4 flex items-center text-gray-500 hover:text-gray-900 transition-colors"
                        >
                        <ArrowLeft size={20} className="mr-1" /> 목록으로 돌아가기
                        </button>
                        
                        <div className="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                        <div className="p-6 border-b border-gray-100">
                            <div className="flex justify-between items-start mb-4">
                            <h2 className="text-2xl font-bold text-gray-900">{selectedPost.title}</h2>
                            <button 
                                onClick={() => handleDeletePost(selectedPost.id)}
                                className="text-gray-400 hover:text-red-500 p-2 rounded-full hover:bg-red-50 transition-colors"
                                title="삭제"
                            >
                                <Trash2 size={20} />
                            </button>
                            </div>
                            
                            <div className="flex items-center gap-6 text-sm text-gray-500">
                            <div className="flex items-center gap-2">
                                <div className="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center">
                                <User size={16} className="text-gray-600" />
                                </div>
                                <span className="font-medium text-gray-900">{selectedPost.author}</span>
                            </div>
                            <div className="flex items-center gap-1">
                                <Calendar size={16} />
                                {selectedPost.date}
                            </div>
                            <div className="flex items-center gap-1">
                                <MessageSquare size={16} />
                                조회 {selectedPost.views}
                            </div>
                            </div>
                        </div>

                        <div className="p-8 min-h-[300px] text-gray-800 leading-relaxed whitespace-pre-line">
                            {selectedPost.content}
                        </div>

                        <div className="p-4 bg-gray-50 border-t border-gray-100 flex justify-center">
                            <button className="flex items-center gap-2 px-6 py-2 bg-white border border-gray-200 rounded-full text-gray-600 hover:text-red-500 hover:border-red-200 transition-all shadow-sm active:scale-95">
                            <span>♥ 좋아요</span>
                            <span className="font-bold">{selectedPost.likes}</span>
                            </button>
                        </div>
                        </div>
                    </div>
                    )}

                    {/* 글쓰기 뷰 */}
                    {view === 'write' && (
                    <div className="animate-fade-in max-w-2xl mx-auto">
                        <button 
                        onClick={() => setView('list')}
                        className="mb-4 flex items-center text-gray-500 hover:text-gray-900 transition-colors"
                        >
                        <ArrowLeft size={20} className="mr-1" /> 취소
                        </button>

                        <div className="bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden">
                        <div className="p-6 bg-gray-800 text-white">
                            <h2 className="text-xl font-bold flex items-center gap-2">
                            <PenLine size={24} />
                            새 글 작성
                            </h2>
                            <p className="text-gray-400 text-sm mt-1">자유롭게 이야기를 나누어 보세요.</p>
                        </div>

                        <div className="p-6 space-y-6">
                            <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">제목</label>
                            <input
                                type="text"
                                value={newTitle}
                                onChange={(e) => setNewTitle(e.target.value)}
                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"
                                placeholder="제목을 입력하세요"
                            />
                            </div>

                            <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">작성자</label>
                            <input
                                type="text"
                                value={newAuthor}
                                onChange={(e) => setNewAuthor(e.target.value)}
                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"
                                placeholder="이름 또는 닉네임"
                            />
                            </div>

                            <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">내용</label>
                            <textarea
                                value={newContent}
                                onChange={(e) => setNewContent(e.target.value)}
                                className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all h-64 resize-none"
                                placeholder="내용을 입력하세요"
                            />
                            </div>

                            <div className="flex justify-end pt-4">
                            <button 
                                onClick={handleSavePost}
                                className="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-bold shadow-md hover:shadow-lg transition-all transform active:scale-95"
                            >
                                등록하기
                            </button>
                            </div>
                        </div>
                        </div>
                    </div>
                    )}

                </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>